<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Una Carta Para Ti</title>
    <!-- Tailwind CSS para un diseño moderno y responsivo -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts para un estilo más romántico -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <style>
        /* Estilos personalizados */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #fde2e4; /* Un fondo rosa suave */
            background-image:
                radial-gradient(at 47% 33%, hsl(0.00, 0%, 100%) 0, transparent 59%),
                radial-gradient(at 82% 65%, hsl(340.00, 100%, 76%) 0, transparent 55%);
        }
        .font-dancing {
            font-family: 'Dancing Script', cursive;
        }
        /* Animación para sacudir el formulario en caso de error */
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-10px); }
            20%, 40%, 60%, 80% { transform: translateX(10px); }
        }
        .shake {
            animation: shake 0.5s ease-in-out;
        }
        /* Estilo para el contenedor de la carta */
        .letter-paper {
            background-color: #fff;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            padding: 2rem 3rem;
            position: relative;
            background-image: linear-gradient(to bottom, #fff 98%, #f0f0f0 100%);
        }
        /* Transición de aparición */
        .fade-in {
            animation: fadeIn 1s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: scale(0.95); }
            to { opacity: 1; transform: scale(1); }
        }
        /* Estilos para las opciones de selección múltiple */
        .radio-label {
            display: block;
            padding: 1rem;
            border: 1px solid #ddd;
            border-radius: 0.5rem;
            margin-bottom: 0.75rem;
            cursor: pointer;
            transition: all 0.2s ease;
            text-align: left;
        }
        .radio-label:hover {
            background-color: #fef2f2;
            border-color: #f87171;
        }
        .radio-label input {
            display: none;
        }
        input[type="radio"]:checked + .radio-label {
            background-color: #fecaca;
            border-color: #ef4444;
            font-weight: bold;
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen">

    <div id="container" class="w-full max-w-md mx-auto p-4">

        <!-- Sección del Formulario (Visible al inicio) -->
        <div id="password-section" class="text-center bg-white/70 backdrop-blur-sm p-8 rounded-2xl shadow-lg">
            <svg class="mx-auto h-16 w-16 text-pink-500 mb-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z" />
            </svg>
            <h1 class="font-dancing text-4xl text-gray-800 mb-2">Un Mensaje Especial</h1>
            <p class="text-gray-600 mb-4">Para la dueña de mi corazón.</p>
            <p id="warning-message" class="text-amber-700 font-semibold mb-4"></p>
            <form id="love-form">
                <!-- Pregunta 1 -->
                <div id="question1">
                    <label for="secret-word" class="block text-gray-700 mb-2">Para revelar la carta, responde:</label>
                    <p class="text-pink-600 font-bold text-lg mb-4">¿Cuál es la palabra que sella nuestro amor?</p>
                    <input type="text" id="secret-word" class="w-full px-4 py-2 border border-gray-300 rounded-lg text-center focus:ring-2 focus:ring-pink-400 focus:outline-none transition" placeholder="Tu respuesta aquí...">
                </div>

                <!-- Pregunta 2 (Oculta al inicio) -->
                <div id="question2" class="hidden">
                    <p class="text-pink-600 font-bold text-lg mb-4">¿Mi comida favorita?</p>
                    <div>
                        <input type="radio" id="food1" name="food_choice" value="chile con carne">
                        <label for="food1" class="radio-label">Chile con carne</label>

                        <input type="radio" id="food2" name="food_choice" value="burger">
                        <label for="food2" class="radio-label">Burger</label>

                        <input type="radio" id="food3" name="food_choice" value="bandeja paisa">
                        <label for="food3" class="radio-label">Bandeja paisa</label>

                        <input type="radio" id="food4" name="food_choice" value="mote de queso">
                        <label for="food4" class="radio-label">Mote de queso</label>
                    </div>
                </div>

                <button type="submit" class="w-full bg-pink-500 text-white font-bold py-3 px-4 rounded-lg mt-4 hover:bg-pink-600 transition-transform transform hover:scale-105">
                    Siguiente
                </button>
            </form>
            <p id="error-message" class="text-red-500 mt-4 h-5"></p>
            <p id="hint-message" class="text-blue-600 mt-2 font-semibold h-5"></p>
        </div>

        <!-- Sección de la Carta (Oculta al inicio) -->
        <div id="letter-section" class="hidden">
            <div class="letter-paper">
                <h2 class="font-dancing text-4xl text-gray-800 mb-6">Amor de mi vida,</h2>
                <div class="text-gray-700 text-lg leading-relaxed space-y-4">
                    <p>En mi mundo, tú representas la luz y la oscuridad, el equilibrio perfecto. Contigo he aprendido a amarme tal como soy y a aceptar cada parte de mi proceso sin juicios. Has sido el espejo más puro y honesto en el que he podido mirarme, el reflejo que necesitaba para entender quién soy de verdad.</p>
                    <p>Gracias a ti, he comenzado a despertar. Me has ayudado a ver más allá de la aparente locura de la mente y, al hacerlo, has despertado en mí un amor genuino e incondicional que no sabía que existía. Eres la compañera de alma perfecta, el sagrado recordatorio que me guía de regreso a mi verdadero ser, a esa esencia que es solo amor puro.</p>
                    <p>Cada vez que te beso, me transportas a un sueño maravilloso del que no quiero escapar. Pero al mismo tiempo, una voz en mi interior me dice que el amor que estamos destinados a experimentar juntos es todavía más grande, un sentimiento que trasciende incluso el beso más profundo.</p>
                    <p>El amor que siento por ti me conecta con algo trascendental, me recuerda al inefable amor de Dios por nosotros. Y al sentirte, al vivirte, comprendo que amarte con la totalidad de mi ser significa aceptar completamente que ese ser divino que tanto amo en ti, es el mismo que habita en mí.</p>
                    <p>Ese amor incondicional, esa conexión sublime cuando me refugio en tu ser, me eleva y me recuerda la dicha y la paz que ya habitan en mí. Gracias por ayudarme a recordarlo.</p>
                    <p class="font-bold pt-4">Te amo.</p>
                    <p class="text-right font-dancing text-2xl text-gray-800 mt-6">Atentamente,<br>CRISTO</p>
                </div>
            </div>
        </div>
        
        <!-- Sección de Explosión (Oculta al inicio) -->
        <div id="explosion-section" class="hidden text-center bg-white/70 backdrop-blur-sm p-8 rounded-2xl shadow-lg">
             <svg class="mx-auto h-16 w-16 text-red-500 mb-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" d="M11.412 15.655L9.75 21.75l3.746-4.012M9.257 13.5H3.75l2.659-2.849m2.048-2.194L14.25 2.25 12 10.5h8.25l-4.707 5.043M8.457 8.457L3 3m5.457 5.457l7.086 7.086m0 0L21 21" />
            </svg>
            <h1 class="font-dancing text-4xl text-red-600 mb-2">¡Oh no!</h1>
            <p class="text-gray-700 text-lg">La carta se ha autodestruido.</p>
        </div>

    </div>

    <script>
        // --- CONFIGURACIÓN DE RESPUESTAS ---
        const RESPUESTA_1 = "comunicacion"; // Respuesta para la pregunta 1
        const RESPUESTA_2 = "chile con carne";   // Respuesta para la pregunta 2 (debe coincidir con el 'value' del input)

        // --- LÓGICA DE LA PÁGINA ---
        document.addEventListener('DOMContentLoaded', () => {
            const form = document.getElementById('love-form');
            const passwordSection = document.getElementById('password-section');
            const letterSection = document.getElementById('letter-section');
            const explosionSection = document.getElementById('explosion-section');
            const question1Div = document.getElementById('question1');
            const question2Div = document.getElementById('question2');
            const secretWordInput = document.getElementById('secret-word');
            const errorMessage = document.getElementById('error-message');
            const hintMessage = document.getElementById('hint-message');
            const warningMessage = document.getElementById('warning-message');
            const submitButton = form.querySelector('button[type="submit"]');

            let currentQuestion = 1;
            let attemptsLeft = 3;
            
            warningMessage.textContent = `Advertencia: Si te equivocas ${attemptsLeft} veces, la carta se autodestruirá.`;

            form.addEventListener('submit', (event) => {
                event.preventDefault();
                errorMessage.textContent = '';
                hintMessage.textContent = '';
                passwordSection.classList.remove('shake');

                if (attemptsLeft <= 0) return;

                if (currentQuestion === 1) {
                    const userAnswer1 = secretWordInput.value.trim().toLowerCase();
                    if (userAnswer1 === RESPUESTA_1) {
                        // Correcto, pasa a la siguiente pregunta
                        question1Div.classList.add('hidden');
                        question2Div.classList.remove('hidden');
                        submitButton.textContent = 'Abrir Carta';
                        warningMessage.textContent = `¡Correcto! Te quedan ${attemptsLeft} intento(s).`;
                        currentQuestion = 2;
                    } else {
                        // Incorrecto
                        attemptsLeft--;
                        passwordSection.classList.add('shake');
                        if (attemptsLeft > 0) {
                            warningMessage.textContent = `Advertencia: Te quedan ${attemptsLeft} intento(s).`;
                            errorMessage.textContent = 'Esa no es nuestra palabra secreta...';
                            hintMessage.textContent = 'Pista: lo que hace que en nuestra relación siempre solucionemos los conflictos.';
                        } else {
                            passwordSection.classList.add('hidden');
                            explosionSection.classList.remove('hidden');
                            explosionSection.classList.add('fade-in');
                        }
                    }
                } else if (currentQuestion === 2) {
                    const selectedFood = document.querySelector('input[name="food_choice"]:checked');
                    if (selectedFood && selectedFood.value.toLowerCase() === RESPUESTA_2) {
                        // Correcto, muestra la carta
                        passwordSection.classList.add('hidden');
                        letterSection.classList.remove('hidden');
                        letterSection.classList.add('fade-in');
                    } else {
                        // Incorrecto
                        attemptsLeft--;
                        passwordSection.classList.add('shake');
                         if (attemptsLeft > 0) {
                            warningMessage.textContent = `Advertencia: Te quedan ${attemptsLeft} intento(s).`;
                            errorMessage.textContent = '¡Casi! Pero esa no es mi favorita.';
                        } else {
                            passwordSection.classList.add('hidden');
                            explosionSection.classList.remove('hidden');
                            explosionSection.classList.add('fade-in');
                        }
                    }
                }
            });
        });
    </script>
</body>
</html>

